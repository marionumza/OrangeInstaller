#encoding: utf-8
from OpenOrange import *
from GlobalTools import *

ParentServerWindow = SuperClass("ServerWindow","MasterWindow",__file__)
class ServerWindow(ParentServerWindow):
    DefaultAfterEdit = True

    def buttonClicked(self,buttonname):
        if (buttonname=="pingHost"):
            spec = self.getRecord()
            import ping
            try:
                val=ping.pingNode(1, 1.0,0,214748312,spec.IP, 1, 8)
            except:
                message("No se pudo llevar a cabo la accion, esto quiza sea debido a que sus datos no sean correctos, que su red no este funcionando adecuadamente o que en entornos unix no tenga adecuados permisos para llevar a cabo la accion")
                return
            if val:
                message("Exito: La conexion funciona correctamente.")
            else:
                message(tr("OpenOrange could not establish a connection with the server"))

    #def afterEdit(self, fieldname):
    #    afterEdit(self, fieldname)

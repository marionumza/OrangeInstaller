from OpenOrange import *

ParentPurchaseInvoiceListReportWindow = SuperClass("PurchaseInvoiceListReportWindow","ReportWindow",__file__)
class PurchaseInvoiceListReportWindow(ParentPurchaseInvoiceListReportWindow):
    
    def afterEdit(self, fname):
        if (fname == "CounterConcept"):
            record = self.getRecord()
            from CounterConcept import CounterConcept
            cc = CounterConcept.bring(record.CounterConcept)
            if (cc):
                record.Account = cc.Account
                
    def filterPasteWindow(self, fieldname):
        if fieldname == "PayTerm":
            from PayTerm import PayTerm
            return "({OperationType} IS NULL OR {OperationType} IN (i|%i|, i|%i|))" % (PayTerm.ALL_OPERATIONS,PayTerm.PURCHASE)    
        return ParentPurchaseInvoiceListReportWindow.filterPasteWindow(self,fieldname)
